{% extends "classes/base_class.html" %}

{% block class_content %}
<ul class="nav nav-tabs nav-justified">
    <li role="presentation"><a href="{%url 'school:classlist' %}">View Classes</a></li>
    <li role="presentation"><a href="{%url 'school:classcreate' %}">Add Class</a></li>
    <li role="presentation" class="active"><a href="{%url 'school:classregistration' %}">Class Registration</a></li>
    <li role="presentation"><a href="{%url 'school:classassignment' %}">Assignments</a></li>
    <li role="presentation"><a href="{%url 'school:classattendance' %}">Attendance</a></li>
    <li role="presentation"><a href="{%url 'school:classperformance' %}">Grading</a></li>
    <li role="presentation"><a href="{%url 'school:classreportcard' %}">Report Card</a></li>
</ul>

<div class="row">  
	<div class="col-lg-12">
        <h1 class="page-header">
            Classes<small> Class Registration</small>
        </h1>
        <ol class="breadcrumb">
            <li class="active">
                <i class="fa fa-sitemap"></i> <a> Classes > Class Registration</a>
            </li>
 		</ol>
 	</div>
</div>


<div class="col-md-3">
	<div class="list-group">
		{% for classinlist in class_list %}
			{% if class = classinlist %}
				<a href="{% url 'school:classregistration' classinlist.id %}" class="list-group-item active">
			{% else %}
	  			<a href="{% url 'school:classregistration' classinlist.id %}" class="list-group-item">
	  		{% endif %}

	    	{{ classinlist }}
	  			</a>
	  	{% endfor %}
	</div>
</div>

<div class="col-md-8">
	{% if class %}
	<div id="search-student-div">
		<h4> Register Students  in {{ class.course }} {{ class.section }}</h4>

	    <div class="input-group pull-left" >
	      <span class="input-group-btn" >
	        <button class="btn btn-default" id="add-student-btn" type="button">Add Student</button>
	      </span>
	      <input type="text" id='search-student-input' class="form-control" placeholder="Search for student...">
	    </div>
	</div>

	<div class="col-md-12">
		<h5>Number of students: 3</h5>
		<br>
		<h4>Registered Students:</h4>
			
		<div class="table-responsive">

		<table id="mytable" class="table table-bordred table-striped">
		<thead>
		  <tr>
		    <th>Student name</th>
		    <th>Remove</th>
		  </tr>
			</thead>
			<tbody>
				{% for reg in class.enrolled_class.all %}
			  	<tr>
				    <td><a href="{% url 'school:studentlist' reg.student.id%}">{{ reg.student }}</a></td>
				    <td>
				    	<button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete">
				    	<span class="glyphicon glyphicon-trash"></span></button>
				    </td>
			  	</tr>
			  	{% endfor %}
			</tbody>
		</table>
		</div> <!-- registered table div-->
	</div>
	{% else %}
	<div class="alert alert-info" role="alert">
		Select a class to view registration details.
	</div>
	{% endif %}
</div> <!--  content div -->

<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-body">
       	Remove John Doe from class?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary btn-sm">Remove</button>
      </div>
    </div>
  </div>
</div>
</div>

{% endblock class_content %}