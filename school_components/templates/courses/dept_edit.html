{% extends "courses/base_course.html" %}

{% block course_content %}
<ul class="nav nav-tabs nav-justified">
    <li role="presentation">
        <a href="{% url 'school:courselist' %}">View Courses</a>
    </li>
	<li role="presentation" class="active">
        <a href="{% url 'school:deptlist' %}">View Departments</a>
    </li>
    <li role="presentation">
        <a href="{% url 'school:coursecreate' %}">Add Course</a>
    </li>
    <li role="presentation">
        <a href="{% url 'school:deptcreate' %}">Add Department</a>
    </li>
    <li role="presentation">
        <a href="{% url 'school:courseassignment' %}">Assignments</a>
    </li>
</ul>

  <div class="row">   
                    <div class="col-lg-12">
                        <h1 class="page-header">
                            Departments<small> List</small>
                        </h1>
                        <ol class="breadcrumb">
                            <li class="active">
                                <i class="fa fa-sitemap"></i> <a>Departments > List</a>
                            </li>
                        </ol>

                    </div>

<div class="col-md-3 school-list">

	<div class="filters-holder">
		<a class="btn btn-primary btn-sm" data-toggle="collapse" href="#filters" 
		aria-expanded="false" aria-controls="collapseExample">
	  	Filters
		</a>
		<div class="collapse" id="filters">
		  	<form action="{%url 'school:deptlist' %}" method="get">
	        	{{ dept_filter.as_p }}
	        	<button class="btn btn-xs btn-default" type="submit" value="submit">Submit</button>
	    	</form>
		</div>
	</div>
<br><br>

	{% if dept_list %}
	<ul class="list-unstyled school-list">
		{% for department in dept_list %}
	  		<li>
	  		<a href="{% url 'school:deptlist' department.id %}?{{request.GET.urlencode}}">
	  			 {{ department.name }} 
	  		</a>
	  		</li>
	  	{% endfor %}
	</ul>

	{% else %}
		<div class="alert alert-info" role="alert">No departments have been added.</div>
	{% endif %}

</div>

<div class="col-md-9 school-info">
	{% if succ %}
		<div class="alert alert-info" role="alert">Department was edited successfully!</div>
	{%endif%}
	{% if error %}
		<div class="panel panel-danger">
			{{ error }}
		</div>
	{% else%}

	<form role="form" action="{% url 'school:deptedit' dept_id%}?{{request.GET.urlencode}}" method="post">
		{% csrf_token %}
		<table class="table table-hover school-form">
	    {{ dept_form.as_table }}
	    </table>
	    <input class="btn btn-primary center-block" type="submit" value="Submit" />
	</form> 
	
	{%endif%}
</div>
{% endblock course_content %}