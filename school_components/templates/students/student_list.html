{% extends "students/base_student.html" %}

{% block current_tab %}
	"View"
{% endblock %}

{% block hacky_script %}
$('#edit-student-btn').click(function() {
	var fields = $('td:nth-child(2)')
	$.each(fields, function(i,elm) { 
		$(elm).html("<input value=\"" + $(elm).text().trim() + "\"></input>") 
	})
});
{% endblock hacky_script %}

{% block student_content %}
<ul class="nav nav-tabs nav-justified">
    <li role="presentation" class="active"><a href="{% url 'school:studentlist' %}">View Students</a></li>
    <li role="presentation"><a href="{% url 'school:studentcreate' %}">Add Student</a></li>
    <li role="presentation"><a href="{% url 'school:studentupload' %}">Upload CSV</a></li>
    <li role="presentation"><a href="{% url 'school:studentexport' %}">Export Student Data</a></li>
</ul>

                <!-- Page Heading -->
                <div class="row">

                    <div class="col-lg-12">
                        <h1 class="page-header">
                            Students <small>List</small>
                        </h1>
                        <ol class="breadcrumb">
                            <li class="active">
                                <i class="fa fa-sitemap"></i> <a> Students > Students List</a>
                            </li>
                        </ol>
                    </div>


<div class="col-md-3 student-list">

	<div class="filters-holder">
		<a class="btn btn-primary btn-sm" data-toggle="collapse" href="#filters" 
		aria-expanded="false" aria-controls="collapseExample">
	  	Filters
		</a>
		<div class="collapse" id="filters">
		  <div>
		    <input type="checkbox"> <label>First Name</label> <input>
		    <br>
		    <input type="checkbox"> <label>Last Name</label> <input>
		    <br>
		    <input type="checkbox"> <label>Phone Number</label> <input>
		    <br>
		  </div>
		</div>
	</div>
<br><br>

	{% if student_list %}
	<ul class="list-unstyled student-list">
		{% for student in student_list %}
	  		<li>
	  		<a href="{% url 'school:studentlist' student.id %}">
	  			 {{ student.first_name }} {{ student.last_name }}
	  		</a>
	  		</li>
	  	{% endfor %}
	</ul>

	{% else %}
		<div class="alert alert-info" role="alert">No students have been added.</div>
	{% endif %}

</div>

<div class="col-md-9 student-info">
	{% if student %}
	<span>
		<h3> Student Info </h3>
		<a href="#" id="edit-student-btn" class="pull-right"> Edit </a>
	</span>
	<table class="table table-hover">
		<tr> 
			<td> ID: </td>
			<td> {{ student.id }} </td>
		</tr>
		<tr> 
			<td> Name: </td>
			<td> 
				{{ student.first_name}} 
				{{ student.last_name }}
			</td>
		</tr>
		<tr> 
			<td> Overall Performance: </td>
			<td> 80% </td>
		</tr>
		<tr> 
			<td> Gender: </td>
			<td> {{ student.gender }} </td>
		</tr>
		<tr> 
			<td> Birthdate: </td>
			<td> {{ student.birthdate }} </td>
		</tr>
		<tr> 
			<td> Home Phone: </td>
			<td> {{ student.home_phone }} </td>
		</tr>
		<tr> 
			<td> Address: </td>
			<td> {{ student.address }} </td>
		</tr>
		<tr> 
			<td> Email: </td>
			<td> {{ student.email }} </td>
		</tr>
		<tr> 
			<td> Allergies: </td>
			<td> {{ student.allergies }} </td>
		</tr>
		<tr> 
			<td> Emergency Contact: </td>
			<td> 
				{{ student.emergency_contact_name }} 
				{{ student.emergency_contact_phone }} 
			</td>
		</tr>
		<tr>
			<td> Parent </td>
			<td> <a href="{% url 'school:parentlist' student.parent.id %}">
			{{ student.parent.first_name }} {{ student.parent.last_name }}</a>
			</td>
		</tr>
	</table>

	<h4>2015</h4>
	<ul>
		<li><a href="#">Music Level 1</a></li>
		<li><a href="#">History Level 2</a></li>
	</ul>

	<h4>2013</h4>
	<ul>
		<li><a href="#">History Level 1</a></li>
	</ul>

	{% else %}
		<div class="alert alert-info" role="alert">
			Select a student to view details.
		</div>
	{% endif %}
</div>

{% endblock student_content %}