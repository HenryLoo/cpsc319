{% extends "periods/base_period.html" %}

{% block hacky_script %}
$('#edit-course-btn').click(function() {
	var fields = $('td:nth-child(2)')
	$.each(fields, function(i,elm) { 
		$(elm).html("<input value=\"" + $(elm).text().trim() + "\"></input>") 
	})
});
{% endblock hacky_script %}

{% block period_content %}
<ul class="nav nav-tabs nav-justified">
    <li role="presentation" class="active">
        <a href="{% url 'school:periodlist' %}">View Periods</a>
    </li>
    <li role="presentation">
        <a href="{% url 'school:periodcreate' %}">Add Period</a>
    </li>
</ul>

  <div class="row">   
    <div class="col-lg-12">
        <h1 class="page-header">
            Periods<small> List</small>
        </h1>
        <ol class="breadcrumb">
            <li class="active">
                <i class="fa fa-sitemap"></i> <a> Periods > List</a>
            </li>
        </ol>

    </div>


<div class="col-md-3 school-list">

	<div class="filters-holder">
		<a class="btn btn-primary btn-sm" data-toggle="collapse" href="#filters" 
		aria-expanded="false" aria-controls="collapseExample">
	  	Filters
		</a>
		<div class="collapse" id="filters">
		  <div>
		    <input type="checkbox"> <label>Description</label> <input>
		  </div>
		</div>
	</div>
<br><br>

	{% if period_list %}
	<ul class="list-unstyled school-list">
		{% for period in period_list %}
	  		<li>
	  		<a href="{% url 'school:periodlist' period.id %}">
	  			 {{ period.description }}
	  		</a>
	  		</li>
	  	{% endfor %}
	</ul>

	{% else %}
		<div class="alert alert-info" role="alert">No periods have been added.</div>
	{% endif %}

</div>

<div class="col-md-9 school-info">
	{% if period %}
	<span>
		<h3> Period Info </h3>
		<a href="#" id="edit-course-btn" class="pull-right"> Edit </a>
	</span>
	<table class="table table-hover">
		<tr> 
			<td> Title: </td>
			<td> 
				{{ period.description }} 
			</td>
		</tr>
		<tr> 
			<td> Start Date: </td>
			<td> 
				{{ period.start_date }} 
			</td>
		</tr>
		<tr> 
			<td> End Date: </td>
			<td> 
				{{ period.end_date }} 
			</td>
		</tr>
		<tr> 
			<td> School: </td>
			<td> {{ period.school }} </td>
		</tr>
		<tr> 
			<td> Comments: </td>
			<td> {{ period.comments }} </td>
		</tr>
	</table>

	{% else %}
		<div class="content alert alert-info" role="alert">
			Select a period to view details.
		</div>
	{% endif %}
</div>
{% endblock period_content %}